<%- include("../partials/header") %>

<div class="container">
    <div class="row">
        <header>
            <h1 style="text-align: center;">编辑食堂：<%= campground.name %></h1>
        </header>    

        <form action="/campgrounds/<%=campground.id%>?_method=PUT" method="POST" enctype="multipart/form-data" style="width: 30%; margin:25px auto;">

            <div class="form-group">
                <label for="name">食堂名称</label>
                <input id="name" class="form-control" type="text" value="<%=campground.name%>" name="name" placeholder="例如：D5 食堂">
            </div>
            <div class="form-group">
                <label for="image_url">食堂封面图片地址（URL，可选）</label>
                <input id="image_url" class="form-control" type="text" value="<%=campground.image%>" name="image_url" placeholder="可以填网络图片链接，例如：https://...">
            </div>
            <div class="form-group">
                <label for="image_file">或上传本地封面图片</label>
                <input id="image_file" class="form-control" type="file" name="image_file" accept="image/*">
            </div>
            <div class="form-group">
                <label for="price">人均消费（可选）</label>
                <input id="price" class="form-control" type="text" value="<%=campground.price%>" name="price" placeholder="例如：20 元/人">
            </div>
            <div class="form-group">
                <label for="zone">所属食堂区域</label>
                <select id="zone" class="form-control" name="zone" required>
                    <option value="">请选择区域</option>
                    <option value="D5" <%= campground.zone === "D5" ? "selected" : "" %>>D5</option>
                    <option value="F3" <%= campground.zone === "F3" ? "selected" : "" %>>F5</option>
                    <option value="B1" <%= campground.zone === "B1" ? "selected" : "" %>>B1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="description">食堂简介</label>
                <textarea id="description" class="form-control" name="description" rows="4" placeholder="例如：主营川菜、烧烤，环境宽敞"><%=campground.description%></textarea>
            </div>
            <div class="form-group">
                <button class="btn btn-lg btn-primary btn-block">保存修改</button>
            </div>

        </form>

        <form action="/campgrounds/<%=campground.id%>?_method=DELETE" method="POST" style="width: 30%; margin:-20px auto;"> 
            <button class="btn btn-lg btn-block btn-danger">删除该食堂</button>
        </form>

        <a href="/campgrounds/<%= campground.id %>">返回食堂详情</a>
    </div>
</div>

<%- include("../partials/footer") %>
